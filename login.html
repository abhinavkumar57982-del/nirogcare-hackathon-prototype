<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="login.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
</head>

<body>
    
<div class="container" id="card">
    <img src="circular-image.png" alt="">
    <h2>Patient Login</h2>

    <form onsubmit="return false;">

        <div class="form-group">
            <input id="email" type="email" required>
            <label>Email</label>
            <i class="fa-solid fa-envelope"></i>
        </div>

        <div class="form-group">
            <input id="password" type="password" required>
            <label>Password</label>
            <i class="fa-solid fa-lock"></i>
        </div>

        <p>
            <input type="checkbox">Remember Me  
            <a href="#">Forget Password</a>
        </p>

        <!-- Button changed: now calls verifyLogin() -->
        <input id="btn" type="button" value="Login" onclick="verifyLogin()">

        <input id="btn1" type="button" value="Create">

        <!-- status area -->
        <div id="status" style="margin-top:10px;"></div>

    </form>
</div>


<script>

const validUser = {
    email: "test@example.com",
    password: "password123"
};


function showLoader(){
    document.getElementById("status").innerHTML = `
        <div style="display:flex;gap:10px;align-items:center;justify-content:center;">
            <div class="spin"></div>
            <span>Verifying...</span>
        </div>
    `;
}

function showError(msg){
    const card = document.getElementById("card");
    card.classList.remove("shake");
    void card.offsetWidth;
    card.classList.add("shake");

    document.getElementById("status").innerHTML =
        `<p style="color:red;font-weight:600;">${msg}</p>`;
}


function showSuccess(){
    document.getElementById("status").innerHTML =
        `<p style="color:green;font-weight:600;">Login Successful ✔</p>`;
}

function verifyLogin(){

    let email = document.getElementById("email").value.trim();
    let pass  = document.getElementById("password").value;

    if(email === "" || pass === ""){
        showError("Email & Password required!");
        return;
    }

    showLoader();

    
    setTimeout(() => {

        if(email === validUser.email && pass === validUser.password){
            showSuccess();

            setTimeout(() => {
                window.location.href = "home.html";
            }, 800);

        } else {
            showError("Incorrect Email or Password ❌");
        }

    }, 1500);
}
</script>

</body>
</html>
